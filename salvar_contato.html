<div class="modal-content">    
    <div class="modal-body">
        <form method="post" action="salvar_contato.php" id = "form-salvar-contato">
            <div class="mb-3">
                <label for="nome" class="form-label">Nome:</label>
                <input type="text" class="form-control" id="nome" name="nome" required>
            </div>
            <div class="mb-3">
                <label for="telefone" class="form-label">Telefone:</label>
                <input type="text" class="form-control" id="telefone" name="telefone" required>
            </div>
            <div class="mb-3">
                <label for="email" class="form-label">E-mail:</label>
                <input type="email" class="form-control" id="email" name="email" required>
            </div>
            <button type="submit" class="btn btn-primary">Salvar</button>
        </form>
    </div>
</div>

<script>
    document.querySelector('#form-salvar-contato').addEventListener('submit', function(event) {
        event.preventDefault(); // Impede o envio tradicional do formulário
    
        const formData = new FormData(this);
    
        fetch('salvar_contato.php', {
            method: 'POST',
            body: formData
        })
        .then(response => response.json())
        .then(data => {
            if (data.status === 'success') {
                alert(data.message); // Exibe o pop-up de sucesso
                window.location.href = 'home.php'; // Redireciona para a home
            } else {
                alert(data.message); // Exibe mensagem de erro, caso exista
            }
        })
        .catch(error => {
            console.error('Erro:', error);
            alert("Ocorreu um erro ao processar o formulário.");
        });
    });
    </script>